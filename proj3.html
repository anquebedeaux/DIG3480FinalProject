<!doctype html>
<html>
<head>
<title>Splat Abstraction</title>
<script>
	  var canvas;
	  var context;
	  var shapes = []
	  
	  var timer;
	  var timerTwo;
	  var possibleShapes = ["pop","triangle","square","circle","scratch"];
	  
	  function Shape(x, y, color) {
		this.x = x;
		this.y = y;
		this.size = Math.random()*40+5;
		this.dx = Math.random()*5-3;
		this.dy = Math.random()*5-3;
		this.color = color;
		this.shape = possibleShapes[Math.floor(Math.random()*possibleShapes.length)];
	}
	  function newShape() {
		var x = Math.random() * canvas.width;
		var y = Math.random() * canvas.height;
		var colors = ["#cc3300", "#666699", "#993366", "#660033"];
		var color = colors[Math.floor(Math.random()*colors.length)];
		shapes.push(new Shape(x, y, color));
		
	}
	  function drawCircle(circle) {
		 context.beginPath();
		 context.arc(circle.x, circle.y, circle.size, 0, degreesToRadians(360), true);
		 context.fillStyle = circle.color;
		 context.fill();
	}
	  function drawSquare(square) {
		context.beginPath();
		context.fillStyle = square.color;
		context.fillRect(square.x, square.y, square.size, square.size);
		
		context.beginPath();
		context.fillStyle = square.color;
		context.fillRect(square.y, square.x, square.size, square.size);
		
    }	 
	  function drawTriangle(triangle) {
		context.beginPath();
		context.fillStyle = triangle.color;
		context.moveTo(triangle.y+triangle.size,triangle.x);
		context.lineTo(triangle.y,triangle.x);
		context.lineTo(triangle.y,triangle.y+triangle.size+2);
	    context.closePath();
        context.fill();
	}
	  function drawpop(pop) {
		    context.beginPath();
			context.arc(pop.y, pop.x+13, 14.5, 2.75, 1, false);
			context.closePath();
			context.fillStyle = pop.color;
			context.fill();
	}
	 function drawscratch(scratch) {
		 context.beginPath();
		 context.arc(scratch.x, scratch.y, scratch.size, 1, degreesToRadians(360), true);
		 context.fillStyle = scratch.color;
		 context.fill();
	}
      function init() {
        canvas = document.getElementById('canvas');
        context = canvas.getContext("2d");
 
        window.addEventListener('resize', startSplat, false);
        window.addEventListener('orientationchange', startSplat, false);
        startSplat();
		canvas.onclick = function(event) {
			handleClick(event.clientX, event.clientY);
		};
		timer = setInterval(startSplat, 20);
		timerTwo = setInterval(newShape, 200);
	}
	  function drawText() {
		context.fillStyle = 'black';
		context.font = 'italic 2em helvetica';
		context.shadowOffsetX = 5; 
		context.shadowOffsetY = 5; 
		context.shadowBlur = 7;
		context.fillText('Splat!', canvas.width-800, canvas.height-10);
	}
      function startSplat() {
		fillBackgroundColor();
		for (var i=0; i<shapes.length; i++){
			if (shapes[i].shape == 'square'){
				drawSquare(shapes[i]);
			} else if (shapes[i].shape == 'circle'){
				drawCircle(shapes[i]);
			} else if (shapes[i].shape == 'triangle'){
				drawTriangle(shapes[i]);
			} else if (shapes[i].shape == 'pop'){
				drawpop(shapes[i]);
			} else if (shapes[i].shape == 'scratch'){
				drawpop(shapes[i]);
			}
		}
		drawText();		
	  }
	  function fillBackgroundColor() {
		 context.fillStyle = 'white';
		 context.fillRect(0, 0, canvas.width, canvas.height);
	}
	function degreesToRadians(degrees) {
		return (degrees * Math.PI)/180;
	}
	window.onload = init;
</script>
</head>
<style>
body {
	background-color: black;
}
</style>
<body>
<center>
<canvas id='canvas' width=1000 height=500></canvas>
</center>
</body>	  
</html>
